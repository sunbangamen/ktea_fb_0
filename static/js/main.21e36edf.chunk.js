(this.webpackJsonpktea_fb_0=this.webpackJsonpktea_fb_0||[]).push([[0],{221:function(e,t,n){"use strict";n.r(t);var c=n(7),a=n.n(c),r=n(95),s=n.n(r),o=n(14),i=n(21),l=n(31),u=n(18),j=n(41);n(105),n(222);j.a.initializeApp({apiKey:"AIzaSyBx_jUBKinOZRJ1jcUjItFq8BRqtKvM8ZA",authDomain:"ktea-test-web-one.firebaseapp.com",projectId:"ktea-test-web-one",storageBucket:"ktea-test-web-one.appspot.com",messagingSenderId:"1063484290596",appId:"1:1063484290596:web:49df0420019ae17a6f4ab1",databaseURL:"https://ktea-test-web-one-default-rtdb.firebaseio.com"});j.a;var b=j.a.auth(),d=j.a.database(),h=n(0),p=n.n(h),O=n(3),f=d.ref("/chart"),m=function(e){return d.ref("chart").push({place:e.place,value:e.value,timestamp:e.timestamp,uid:e.uid})},g=function(){return f},v=n(8),x=function(){var e=Object(c.useState)(""),t=Object(o.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)([]),s=Object(o.a)(r,2),i=(s[0],s[1]),l=function(){var e=function(){var e=[];return d.ref("chat").on("value",(function(t){t.forEach((function(t){e.push(t.val())}))})),e}();i(e)},u=function(){var e=Object(O.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log(n),e.prev=2,e.next=5,c={message:n,timestamp:Date.now(),uid:b.currentUser.uid},d.ref("chats").push({message:c.message,timestamp:c.timestamp,uid:c.uid});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.log(e.t0);case 10:case"end":return e.stop()}var c}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){try{d.ref("chats").on("child_added",l),d.ref("chats").on("child_changed",l),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"auto"})}catch(e){console.log(e)}}),[]),Object(v.jsxs)("div",{className:"chat-container",children:[Object(v.jsx)("div",{className:"chat-top",children:"\ud5e4\ub354"}),Object(v.jsxs)("div",{className:"chat-middle",children:[Object(v.jsxs)("li",{className:"chat-bubble send",children:[Object(v.jsx)("p",{children:"\ud558\uc774\ub8fd~\ud558\uc774\ub8fd~\ud558\uc774\ub8fd~\ud558\uc774\ub8fd~\ud558\uc774\ub8fd~\ud558\uc774\ub8fd~\ud558\uc774\ub8fd~\ud558\uc774\ub8fd~\ud558\uc774\ub8fd~\ud558\uc774\ub8fd~\ud558\uc774\ub8fd~\ud558\uc774\ub8fd~ \ud558\uc774\ub8fd~\ud558\uc774\ub8fd~\ud558\uc774\ub8fd~\ud558\uc774\ub8fd~\ud558\uc774\ub8fd~\ud558\uc774\ub8fd~\ud558\uc774\ub8fd~\ud558\uc774\ub8fd~\ud558\uc774\ub8fd~ \ud558\uc774\ub8fd~\ud558\uc774\ub8fd~\ud558\uc774\ub8fd~\ud558\uc774\ub8fd~\ud558\uc774\ub8fd~\ud558\uc774\ub8fd~\ud558\uc774\ub8fd~\ud558\uc774\ub8fd~"}),Object(v.jsx)("span",{children:"13:30PM"})]}),Object(v.jsxs)("li",{className:"chat-bubble receive",children:[Object(v.jsx)("p",{children:"\ubc29\uac00\ubc29\uac00!!"}),Object(v.jsx)("span",{children:"13:31PM"})]})]}),Object(v.jsx)("div",{className:"chat-bottom",children:Object(v.jsxs)("form",{onSubmit:u,children:[Object(v.jsx)("input",{placeholder:"\ub0b4\uc6a9\uc744 \uc785\ub825\ud558\uc138\uc694.",value:n,onChange:function(e){a(e.target.value)}}),Object(v.jsx)("button",{type:"submit",children:"\uc804\uc1a1"})]})})]})},w=function(e,t){return b.createUserWithEmailAndPassword(e,t)},k=function(e,t){return b.signInWithEmailAndPassword(e,t)},S=function(){return b.signOut()},y=function(){var e=Object(c.useState)(""),t=Object(o.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(""),s=Object(o.a)(r,2),i=s[0],u=s[1],j=function(e){var t=e.target.name;"email"===t?a(e.target.value):"password"===t&&u(e.target.value)},b=function(){var e=Object(O.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""===n||""===i){e.next=10;break}return e.prev=2,e.next=5,w(n,i);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsx)("div",{className:"sign-container",children:Object(v.jsxs)("div",{className:"sign-up-wrap",children:[Object(v.jsx)("h1",{className:"title",children:"\ud68c\uc6d0\uac00\uc785"}),Object(v.jsxs)("form",{className:"sign-up-form",onSubmit:b,children:[Object(v.jsx)("div",{children:Object(v.jsx)("input",{type:"email",placeholder:"\uc774\uba54\uc77c\uc744 \uc785\ub825\ud558\uc138\uc694.",name:"email",value:n,onChange:j})}),Object(v.jsx)("div",{children:Object(v.jsx)("input",{type:"password",placeholder:"\ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud558\uc138\uc694.",name:"password",value:i,onChange:j})}),Object(v.jsx)("div",{children:Object(v.jsx)("button",{type:"submit",children:"\ud68c\uc6d0\uac00\uc785"})})]}),Object(v.jsx)("hr",{}),Object(v.jsxs)("p",{children:["\uc774\ubbf8 \ud68c\uc6d0\uc774\uc2e0\uac00? ",Object(v.jsx)(l.b,{to:"/login",children:"\ub85c\uadf8\uc778"})]})]})})},C=function(){var e=Object(c.useState)(""),t=Object(o.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(""),s=Object(o.a)(r,2),i=s[0],u=s[1],j=function(e){var t=e.target.name;"email"===t?a(e.target.value):"password"===t&&u(e.target.value)},b=function(){var e=Object(O.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""===n||""===i){e.next=10;break}return e.prev=2,e.next=5,k(n,i).then((function(e){return console.log(e)}));case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsx)("div",{className:"sign-container",children:Object(v.jsxs)("div",{className:"sign-wrap",children:[Object(v.jsx)("h1",{className:"title",children:"\ub85c\uadf8\uc778"}),Object(v.jsxs)("form",{className:"sign-form",onSubmit:b,children:[Object(v.jsx)("div",{children:Object(v.jsx)("input",{type:"email",placeholder:"\uc774\uba54\uc77c\uc744 \uc785\ub825\ud558\uc138\uc694.",name:"email",value:n,onChange:j})}),Object(v.jsx)("div",{children:Object(v.jsx)("input",{type:"password",placeholder:"\ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud558\uc138\uc694.",name:"password",value:i,onChange:j})}),Object(v.jsx)("div",{children:Object(v.jsx)("button",{type:"submit",children:"\ub85c\uadf8\uc778"})})]}),Object(v.jsx)("hr",{}),Object(v.jsxs)("p",{children:["\ud68c\uc6d0\uc774 \uc544\ub2c8\uc2e0\uac00? ",Object(v.jsx)(l.b,{to:"/signup",children:"\ud68c\uc6d0\uac00\uc785"})]})]})})},N=n(56),E=["component","authenticated"];var _=function(e){var t=e.component,n=e.authenticated,c=Object(N.a)(e,E);return Object(v.jsx)(u.b,Object(i.a)(Object(i.a)({},c),{},{render:function(e){return!1===n?Object(v.jsx)(t,Object(i.a)({},e)):Object(v.jsx)(u.a,{to:"/chart"})}}))},U=["component","authenticated"];var A=function(e){var t=e.component,n=e.authenticated,c=Object(N.a)(e,U);return Object(v.jsx)(u.b,Object(i.a)(Object(i.a)({},c),{},{render:function(e){return!0===n?Object(v.jsx)(t,Object(i.a)({},e)):Object(v.jsx)(u.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},D=n(15),I=n(55),R=function(){var e=Object(c.useState)(""),t=Object(o.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)([]),s=Object(o.a)(r,2),i=s[0],l=s[1],u=Object(c.useState)([]),j=Object(o.a)(u,2),d=j[0],h=j[1],f=Object(c.useState)(!1),x=Object(o.a)(f,2),w=x[0],k=x[1],y=Object(c.useState)(!1),C=Object(o.a)(y,2),N=C[0],E=C[1],_={labels:["5","10","15","20","25","30","35","40","45","50","55","60","65","70","75","80","85","90","95","100"],datasets:[{label:"# sensor",data:i,fill:!1,backgroundColor:"rgb(255, 99, 132)",borderColor:"rgba(255, 99, 132, 0.2)"},{label:"# sensor1",data:d,fill:!1,backgroundColor:"rgb(54, 162, 235)",borderColor:"rgba(54, 162, 235, 0.2)"}]},U=function(){var e=Object(O.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log(n),e.prev=2,e.next=5,m({place:n,value:0,timestamp:Date.now(),uid:b.currentUser.uid});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){g().on("child_changed",(function(e){l((function(t){return Object(D.a)(t.concat(Math.floor(e.val().value)))})),console.log("change : ",e.val().value)})),g().on("child_changed",(function(e){h((function(t){return Object(D.a)(t.concat(Math.floor(e.val().value1)))})),console.log("change1 : ",e.val().value1)}))}),[]),console.log("loaded : ",w);var A=function(e){return e.reduce((function(e,t){return e+t}),0)/e.length};console.log("average \ucd1d\ubc30\uc5f4 : ",i),console.log("average1 \ucd1d\ubc30\uc5f4 : ",d),console.log("\ud3c9\uade0\uac12 : ",A(i)),console.log("\ud3c9\uade0\uac12 : ",A(d));var R=A(i)+5,B=A(i)-5,F=A(d)+5,M=A(d)-5,P=i[i.length-1],T=d[d.length-1],L="sensor",G="sensor1",J=function(e){E(!0),alert("".concat(e,"\uc704\uce58\uc5d0 \ubb38\uc81c\uac00 \ubc1c\uc0dd\ub418\uc5c8\uc2b5\ub2c8\ub2e4."))};B>P?N?console.log("\ubb38\uc81c\ubc1c\uc0dd"):J(L):R<P?(console.log("\ubb38\uc81c \ubc1c\uc0dd"),N?console.log("\ubb38\uc81c\ubc1c\uc0dd"):J(L)):console.log("\uc815\uc0c1\uce21\uc815"),M>T?N?console.log("\ubb38\uc81c\ubc1c\uc0dd"):J(G):F<T?(console.log("\ubb38\uc81c \ubc1c\uc0dd"),N?console.log("\ubb38\uc81c\ubc1c\uc0dd"):J(G)):console.log("\uc815\uc0c1\uce21\uc815");return i[19]&&l((function(e){return Object(D.a)(e.slice(18))})),d[19]&&h((function(e){return Object(D.a)(e.slice(18))})),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("div",{className:"header",children:[Object(v.jsx)("button",{onClick:S,children:"\ub85c\uadf8\uc544\uc6c3"}),Object(v.jsxs)("form",{onSubmit:U,children:[Object(v.jsx)("input",{placeholder:"\ud604\uc7a5\uba85\uc744 \uc785\ub825\ud558\uc138\uc694.",value:n,onChange:function(e){a(e.target.value)}}),Object(v.jsx)("button",{type:"submit",children:"\uc804\uc1a1"})]}),Object(v.jsx)("h1",{className:"title",children:"Line Chart"})]}),w?Object(v.jsx)("button",{onClick:function(){k(!1),l([]),h([])},children:"\ucd08\uae30\ud654"}):Object(v.jsx)("button",{onClick:function(){k(!0),E(!1),l(i.filter((function(e){return e===i}))),h(d.filter((function(e){return e===d})))},children:"\uce21\uc815\uc2dc\uc791"}),Object(v.jsx)(I.a,{data:_,options:{legend:{display:!1},scales:{yAxes:[{ticks:{beginAtZero:!0}}]}},width:100,height:50})]})},B=a.a.memo(R),F={authenticated:!1,loading:!0};function M(e,t){switch(t.type){case"GET_USER":return Object(i.a)(Object(i.a)({},e),{},{authenticated:t.result});default:return e}}var P=function(){var e=Object(c.useReducer)(M,F),t=Object(o.a)(e,2),n=t[0],a=t[1],r=n.authenticated;return Object(c.useEffect)((function(){b.onAuthStateChanged((function(e){a(e?{type:"GET_USER",result:!0}:{type:"GET_USER",result:!1})}))}),[]),Object(v.jsx)(l.a,{children:Object(v.jsxs)(u.d,{children:[Object(v.jsx)(A,{path:"/chat",authenticated:r,component:x}),Object(v.jsx)(A,{path:"/chart",authenticated:r,component:B}),Object(v.jsx)(_,{path:"/signup",authenticated:r,component:y}),Object(v.jsx)(_,{path:["/","/login"],authenticated:r,component:C})]})})},T=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,224)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))};s.a.render(Object(v.jsx)(a.a.StrictMode,{children:Object(v.jsx)(P,{})}),document.getElementById("root")),T()}},[[221,1,2]]]);
//# sourceMappingURL=main.21e36edf.chunk.js.map